(function(L,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(L=typeof globalThis<"u"?globalThis:L||self,t(L.VueMultiUploader={},L.Vue))})(this,function(L,t){"use strict";var _=(l=>(l.PENDING="pending",l.UPLOADING="uploading",l.UPLOADED="uploaded",l.ERROR="error",l))(_||{});const T=class T{};T.alert=async s=>window.alert(s),T.confirm=async s=>new Promise(a=>{const c=confirm(s);a(c)}),T.deleteConfirm=async s=>T.confirm(s),T.confirmText=()=>"確認",T.cancelText=()=>"取消",T.deleteText=()=>"刪除";let re=T;function J(l="",s=!1){if(s){const c=(performance!=null&&performance.timeOrigin?Math.round(performance.timeOrigin):performance.timing.navigationStart)*1e5+performance.now()*100;return l+c.toString(12)+se(4)}return l+se(12)}function se(l=12){const a=window.crypto;if(!a)return String(Math.floor(Math.random()*l**10));const c=new Uint8Array(l);for(let p=0;p<l;p+=65536)a.getRandomValues(c.subarray(p,p+Math.min(l-p,65536)));return Array.from(c).map(p=>p.toString(16).padStart(2,"0")).join("")}var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le={exports:{}};(function(l,s){(function(a,c){l.exports=c()})(ae,function(){var a=1e3,c=6e4,p=36e5,y="millisecond",k="second",b="minute",E="hour",O="day",U="week",h="month",M="quarter",v="year",D="date",I="Invalid Date",R=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,te=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ne={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(d){var o=["th","st","nd","rd"],e=d%100;return"["+d+(o[(e-20)%10]||o[e]||o[0])+"]"}},H=function(d,o,e){var n=String(d);return!n||n.length>=o?d:""+Array(o+1-n.length).join(e)+d},Z={s:H,z:function(d){var o=-d.utcOffset(),e=Math.abs(o),n=Math.floor(e/60),r=e%60;return(o<=0?"+":"-")+H(n,2,"0")+":"+H(r,2,"0")},m:function d(o,e){if(o.date()<e.date())return-d(e,o);var n=12*(e.year()-o.year())+(e.month()-o.month()),r=o.clone().add(n,h),i=e-r<0,u=o.clone().add(n+(i?-1:1),h);return+(-(n+(e-r)/(i?r-u:u-r))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:h,y:v,w:U,d:O,D,h:E,m:b,s:k,ms:y,Q:M}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return d===void 0}},x="en",B={};B[x]=ne;var K="$isDayjsObject",G=function(d){return d instanceof Y||!(!d||!d[K])},j=function d(o,e,n){var r;if(!o)return x;if(typeof o=="string"){var i=o.toLowerCase();B[i]&&(r=i),e&&(B[i]=e,r=i);var u=o.split("-");if(!r&&u.length>1)return d(u[0])}else{var f=o.name;B[f]=o,r=f}return!n&&r&&(x=r),r||!n&&x},S=function(d,o){if(G(d))return d.clone();var e=typeof o=="object"?o:{};return e.date=d,e.args=arguments,new Y(e)},g=Z;g.l=j,g.i=G,g.w=function(d,o){return S(d,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var Y=function(){function d(e){this.$L=j(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[K]=!0}var o=d.prototype;return o.parse=function(e){this.$d=function(n){var r=n.date,i=n.utc;if(r===null)return new Date(NaN);if(g.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var u=r.match(R);if(u){var f=u[2]-1||0,m=(u[7]||"0").substring(0,3);return i?new Date(Date.UTC(u[1],f,u[3]||1,u[4]||0,u[5]||0,u[6]||0,m)):new Date(u[1],f,u[3]||1,u[4]||0,u[5]||0,u[6]||0,m)}}return new Date(r)}(e),this.init()},o.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},o.$utils=function(){return g},o.isValid=function(){return this.$d.toString()!==I},o.isSame=function(e,n){var r=S(e);return this.startOf(n)<=r&&r<=this.endOf(n)},o.isAfter=function(e,n){return S(e)<this.startOf(n)},o.isBefore=function(e,n){return this.endOf(n)<S(e)},o.$g=function(e,n,r){return g.u(e)?this[n]:this.set(r,e)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(e,n){var r=this,i=!!g.u(n)||n,u=g.p(e),f=function(F,A){var z=g.w(r.$u?Date.UTC(r.$y,A,F):new Date(r.$y,A,F),r);return i?z:z.endOf(O)},m=function(F,A){return g.w(r.toDate()[F].apply(r.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(A)),r)},w=this.$W,$=this.$M,C=this.$D,P="set"+(this.$u?"UTC":"");switch(u){case v:return i?f(1,0):f(31,11);case h:return i?f(1,$):f(0,$+1);case U:var V=this.$locale().weekStart||0,W=(w<V?w+7:w)-V;return f(i?C-W:C+(6-W),$);case O:case D:return m(P+"Hours",0);case E:return m(P+"Minutes",1);case b:return m(P+"Seconds",2);case k:return m(P+"Milliseconds",3);default:return this.clone()}},o.endOf=function(e){return this.startOf(e,!1)},o.$set=function(e,n){var r,i=g.p(e),u="set"+(this.$u?"UTC":""),f=(r={},r[O]=u+"Date",r[D]=u+"Date",r[h]=u+"Month",r[v]=u+"FullYear",r[E]=u+"Hours",r[b]=u+"Minutes",r[k]=u+"Seconds",r[y]=u+"Milliseconds",r)[i],m=i===O?this.$D+(n-this.$W):n;if(i===h||i===v){var w=this.clone().set(D,1);w.$d[f](m),w.init(),this.$d=w.set(D,Math.min(this.$D,w.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},o.set=function(e,n){return this.clone().$set(e,n)},o.get=function(e){return this[g.p(e)]()},o.add=function(e,n){var r,i=this;e=Number(e);var u=g.p(n),f=function($){var C=S(i);return g.w(C.date(C.date()+Math.round($*e)),i)};if(u===h)return this.set(h,this.$M+e);if(u===v)return this.set(v,this.$y+e);if(u===O)return f(1);if(u===U)return f(7);var m=(r={},r[b]=c,r[E]=p,r[k]=a,r)[u]||1,w=this.$d.getTime()+e*m;return g.w(w,this)},o.subtract=function(e,n){return this.add(-1*e,n)},o.format=function(e){var n=this,r=this.$locale();if(!this.isValid())return r.invalidDate||I;var i=e||"YYYY-MM-DDTHH:mm:ssZ",u=g.z(this),f=this.$H,m=this.$m,w=this.$M,$=r.weekdays,C=r.months,P=r.meridiem,V=function(A,z,q,X){return A&&(A[z]||A(n,i))||q[z].slice(0,X)},W=function(A){return g.s(f%12||12,A,"0")},F=P||function(A,z,q){var X=A<12?"AM":"PM";return q?X.toLowerCase():X};return i.replace(te,function(A,z){return z||function(q){switch(q){case"YY":return String(n.$y).slice(-2);case"YYYY":return g.s(n.$y,4,"0");case"M":return w+1;case"MM":return g.s(w+1,2,"0");case"MMM":return V(r.monthsShort,w,C,3);case"MMMM":return V(C,w);case"D":return n.$D;case"DD":return g.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return V(r.weekdaysMin,n.$W,$,2);case"ddd":return V(r.weekdaysShort,n.$W,$,3);case"dddd":return $[n.$W];case"H":return String(f);case"HH":return g.s(f,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return F(f,m,!0);case"A":return F(f,m,!1);case"m":return String(m);case"mm":return g.s(m,2,"0");case"s":return String(n.$s);case"ss":return g.s(n.$s,2,"0");case"SSS":return g.s(n.$ms,3,"0");case"Z":return u}return null}(A)||u.replace(":","")})},o.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},o.diff=function(e,n,r){var i,u=this,f=g.p(n),m=S(e),w=(m.utcOffset()-this.utcOffset())*c,$=this-m,C=function(){return g.m(u,m)};switch(f){case v:i=C()/12;break;case h:i=C();break;case M:i=C()/3;break;case U:i=($-w)/6048e5;break;case O:i=($-w)/864e5;break;case E:i=$/p;break;case b:i=$/c;break;case k:i=$/a;break;default:i=$}return r?i:g.a(i)},o.daysInMonth=function(){return this.endOf(h).$D},o.$locale=function(){return B[this.$L]},o.locale=function(e,n){if(!e)return this.$L;var r=this.clone(),i=j(e,n,!0);return i&&(r.$L=i),r},o.clone=function(){return g.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},d}(),Q=Y.prototype;return S.prototype=Q,[["$ms",y],["$s",k],["$m",b],["$H",E],["$W",O],["$M",h],["$y",v],["$D",D]].forEach(function(d){Q[d[1]]=function(o){return this.$g(o,d[0],d[1])}}),S.extend=function(d,o){return d.$i||(d(o,Y,S),d.$i=!0),S},S.locale=j,S.isDayjs=G,S.unix=function(d){return S(1e3*d)},S.en=B[x],S.Ls=B,S.p={},S})})(le);class ue{constructor(s=1){this.maxRunning=s,this.items=[],this.currentRunning=0,this.running=!1,this.observers=[]}push(s){const a=new Promise((c,p)=>{this.items.push(()=>Promise.resolve(s()).then(c))});return this.run(),a}run(){this.running||(this.running=!0),this.pop()}async pop(){const s=this.items.shift();if(!s)return this.running=!1,Promise.resolve();if(this.currentRunning>=this.maxRunning)return this.items.unshift(s),Promise.resolve();this.currentRunning++,this.notice();try{return await s()}catch(a){throw a}finally{this.endPop()}}endPop(){this.currentRunning--,this.notice(),this.pop()}clear(){return this.items=[],this.notice(),this}isEmpty(){return this.items.length===0}get length(){return this.items.length}peek(){return this.items}observe(s,a={}){return this.observers.push({handler:s,once:a.once||!1}),()=>{this.off(s)}}once(s,a={}){return a.once=!0,this.observe(s,a)}onEnd(s,a={}){return this.observe((c,p,y)=>{p===0&&y===0&&s(c,p,y)},a)}notice(){return this.observers.forEach(s=>{s.handler(this,this.length,this.currentRunning)}),this.observers=this.observers.filter(s=>!s.once),this}off(s){return s==null?(this.observers=[],this):(this.observers=this.observers.filter(a=>a.handler!==s),this)}}function ce(l=1){return new ue(l)}function de(){return ce()}/*!
 * dush <https://github.com/tunnckoCore/dush>
 *
 * Copyright (c) Charlike Mike Reagent <@tunnckoCore> (https://i.am.charlike.online)
 * Released under the MIT license.
 */function fe(){var l=Object.create(null),s={_allEvents:l,use:function(c,p){var y=c(s,p);return y||s},on:function(c,p,y){var k=s._allEvents[c]||(s._allEvents[c]=[]);function b(){s.off(c,b),p.apply(p,arguments)}b.fn=p;var E=y?b:p;return k.push(E),s},once:function(c,p){return s.on(c,p,!0),s},off:function(c,p){return p&&s._allEvents[c]?s._allEvents[c]=s._allEvents[c].filter(function(y){return y!==p&&y!==p.fn}):c?s._allEvents[c]=[]:s._allEvents=Object.create(null),s},emit:function(c){if(c!=="*"){var p=[].slice.call(arguments);(s._allEvents[c]||[]).map(function(y){y.apply(y,p.slice(1))}),(s._allEvents["*"]||[]).map(function(y){y.apply(y,p)})}return s}};return s}const oe={change:"onChange","delete-item":"onDeleteItem","item-click":"onItemClick",uploading:"onUploading",uploaded:"onUploaded","create-item":"onCreateItem","item-upload-start":"onItemUploadStart","item-upload-success":"onItemUploadSuccess","item-upload-fail":"onItemUploadFail","item-upload-end":"onItemUploadEnd","item-upload-progress":"onItemUploadProgress","invalid-file-type":"onInvalidFileType"};function pe(l){const s=fe();for(const a in oe){const c=oe[a];c&&l[c]&&s.on(a,l[c])}return s}function ie(l,s,a={}){const c=N(a.id??"vue-multi-uploader-"+J()),p=N(a.accept??""),y=N(a.maxFiles),k=N(a.maxConcurrent??2),b=N(a.disabled??!1),E=N(a.readonly??!1),O=N(s),U=t.computed(()=>N(a.dropzone).value),h=N(a.onDragClass??"h-ondrag"),M=N(a.autoStart??!1);let v=N(l);v.value=v.value.map(e=>ee(e,{uploadState:_.UPLOADED}));const D=de(),I=pe(a);t.watch(k,e=>{D.maxRunning=e},{immediate:!0});function R(e,...n){return I.emit(e,...n)}function te(e,n){return I.on(e,n),()=>{I.off(e,n)}}function ne(){const e=document.createElement("input");e.id="multi-uploader-selector",e.type="file",e.accept=p.value,e.multiple=!0,e.style.display="none",e.addEventListener("change",()=>{const n=e.files;Z(n),e.remove()}),e.addEventListener("change",()=>{e.remove()}),e.addEventListener("blur",()=>{e.remove()}),document.body.appendChild(e),e.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}t.watch(U,()=>{const e=me(U.value);e&&e instanceof HTMLElement&&H(e)},{immediate:!0});function H(e){e.__dragging_events||(e.addEventListener("dragover",n=>{n.stopPropagation(),n.preventDefault(),e.classList.add(h.value)}),e.addEventListener("dragleave",n=>{n.stopPropagation(),n.preventDefault(),e.classList.remove(h.value)}),e.addEventListener("drop",async n=>{var m;n.stopPropagation(),n.preventDefault(),e.classList.remove(h.value);const r=(m=n.dataTransfer)==null?void 0:m.items,i=[],u=async w=>{const $=[];w.isDirectory?w.createReader().readEntries(P=>{P.forEach(V=>{$.push(u(V))})}):$.push(new Promise(C=>{w.file(P=>{i.push(P),C()})})),await Promise.all($)},f=[];Array.prototype.forEach.call(r??[],w=>{const $=w.webkitGetAsEntry();$&&f.push(u($))}),f.length&&Promise.all(f).then(()=>{Z(i)})}),e.__dragging_events=!0)}function Z(e){Array.prototype.forEach.call(e,x),Array.prototype.forEach.call(e,n=>{if(!Y.value)return;const i=t.reactive(ee({key:J(),url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",file:n,uploadState:_.PENDING,progress:0}));i.title=i.title||i.file.name,I.emit("create-item",i);const u=v.value.push(i),f=v.value[u-1];if(M.value&&j(f),S(i)){const m=new FileReader;m.onload=w=>{var $;i.thumbUrl=String(($=w.target)==null?void 0:$.result)},m.readAsDataURL(n)}})}function x(e){const n=d.value,r=e.name.split(".").pop();if(n.length){let i=!1;if(n.forEach(u=>{i||(u.indexOf("/")!==-1?B(u,e.type)&&(i=!0):u.toLowerCase()===(r==null?void 0:r.toLowerCase())&&(i=!0))}),!i)throw R("invalid-file-type",e,n),new Error("Not accepted file ext")}}function B(e,n){const r=e.split("/"),i=n.split("/");return r[1]==="*"?r[0]===i[0]:e===n}function K(e){R("delete-item",e),v.value=v.value.filter(n=>n.key!==e.key)}async function G(){const e=[];return v.value.forEach(n=>{n.uploadState===_.PENDING&&e.push(j(n))}),Promise.allSettled(e)}async function j(e){e.uploadState=_.UPLOADING;const n=new FormData;return n.append("file",e.file),new Promise((i,u)=>{const f=new XMLHttpRequest;R("item-upload-start",e,f),f.open("POST",O.value),f.upload.onprogress=m=>{m.lengthComputable&&(e.progress=m.loaded/m.total,R("item-upload-progress",e,m))},f.onload=()=>{if(f.status>=200&&f.status<300)try{e.uploadState=_.UPLOADED,R("item-upload-success",e,f),i(e)}catch(m){console.error(m),e.uploadState=_.ERROR,e.message=m.message,e.messageType="error",u(m)}else{const m=`Upload failed with status: ${f.status}`;console.error(m),e.uploadState=_.ERROR,e.message=m,e.messageType="error",u(new Error(m))}},f.onerror=()=>{const m="An error occurred during the upload.";console.error(m),e.uploadState=_.ERROR,e.message=m,e.messageType="error",u(new Error(m))},f.onloadend=()=>{R("item-upload-end",e,f)},f.send(n)}).catch(i=>(R("item-upload-fail",e,i),Promise.reject(i)))}function S(e){return g(e.file?e.file.name:e.url)}function g(e){var i;const n=((i=e.split(".").pop())==null?void 0:i.split("?").shift())||"";return["png","jpeg","jpg","gif","bmp","webp"].indexOf(n.toLowerCase())!==-1}const Y=t.computed(()=>(y.value==null||v.value.length<Number(y.value))&&!o.value),Q=t.computed(()=>v.value.filter(n=>n.uploadState===_.UPLOADING).length>0),d=t.computed(()=>(Array.isArray(p.value)?p.value:p.value.split(",")).map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.indexOf("/")===-1&&e[0]==="."?e.substr(1):e)),o=t.computed(()=>b.value||E.value);return t.watch(v,e=>{e.map(n=>{n.key=n.key||J()}),R("change",v)},{deep:!0}),t.watch(Q,e=>{R(e?"uploading":"uploaded")}),{id:c,accept:p,maxFiles:y,maxConcurrent:k,disabled:b,readonly:E,uploadUrl:O,items:v,uploadQueue:D,eventBus:I,canUpload:Y,isUploading:Q,acceptedTypes:d,isReadonly:o,emits:R,on:te,openFileSelector:ne,deleteItem:K,uploadStart:G,isImageItem:S,isImage:g}}function me(l){return l?"$el"in l?l.$el:l:null}function ee(l,s){return l.key??(l.key=J()),l.uploadState??(l.uploadState=_.PENDING),l.progress??(l.progress=0),s&&Object.assign(l,s),l}function N(l){return typeof l=="function"&&(l=t.ref(l())),t.isRef(l)?l:t.ref(l)}const he={class:"vue-drag-uploader__wrapper"},ge=t.defineComponent({__name:"MultiUploader",props:t.mergeModels({id:{},uploadUrl:{},placeholder:{},instance:{},options:{default:()=>({})}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:t.mergeModels(["update:modelValue","delete-item","item-click","uploading","uploaded","reorder"],["update:modelValue"]),setup(l,{expose:s,emit:a}){const c=l,p=a,y=t.useModel(l,"modelValue"),k=t.ref(y.value);t.watch(y,()=>{k.value=y.value},{deep:!0});const b=t.useTemplateRef("el");c.options.dropzone=c.options.dropzone??b;const E=c.instance??ie(k,c.uploadUrl??"",c.options),{isReadonly:O,items:U}=E;t.watch(U,()=>{y.value=U.value},{deep:!0});const h=E.on("uploading",()=>{p("uploading")}),M=E.on("uploaded",()=>{p("uploaded")}),v=E.on("delete-item",D=>{p("delete-item",D)});return t.onUnmounted(()=>{h(),M(),v()}),s({instance:E}),(D,I)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"el",ref:b,class:t.normalizeClass(["vue-drag-uploader",{"vue-drag-uploader--readonly":t.unref(O)}])},[t.createElementVNode("div",he,[t.renderSlot(D.$slots,"items",{items:t.unref(U),options:D.options,instance:t.reactive(t.unref(E)),onDelete:I[0]||(I[0]=()=>console.log(D.$event))})])],2))}}),ye={key:1,class:"preview-img__body d-flex flex-column justify-content-center align-items-center gap-2"},we={style:{width:"calc(var(--vmu-img-size) / 3)",height:"calc(var(--vmu-img-size) / 3)"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},$e={style:{"word-break":"break-word"}},ve={class:"preview-img__overlay"},Ee={style:{width:"1rem",height:"1rem",fill:"white"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Se={key:2,class:"preview-img__progress"},Me={class:"error-message__message"},be=t.defineComponent({__name:"ItemCard",props:{item:{},i:{},size:{default:"150px"},isReadonly:{type:Boolean}},emits:["delete","item-click"],setup(l,{emit:s}){const a=l,c=s,p=t.computed(()=>a.item.uploadState),y=t.computed(()=>a.item.progress);function k(){a.isReadonly||c("delete",a.item)}const b=t.computed(()=>a.item.file?a.item.file.name:a.item.title?a.item.title:a.item.url.split("/").pop()),E=t.computed(()=>O(a.item.file?a.item.file.name:a.item.url));function O(h){var D;const M=((D=h.split(".").pop())==null?void 0:D.split("?").shift())||"";return["png","jpeg","jpg","gif","bmp","webp"].indexOf(M.toLowerCase())!==-1}function U(h){c("item-click",a.item,a.i,h)}return(h,M)=>(t.openBlock(),t.createElementBlock("div",{class:"vue-drag-uploader-item preview-img",style:t.normalizeStyle({"--vmu-img-size":h.size}),onClick:U},[t.renderSlot(h.$slots,"it",{item:h.item},()=>[E.value?(t.openBlock(),t.createElementBlock("div",{key:0,class:"preview-img__body",style:t.normalizeStyle({"background-image":"url("+(h.item.thumbUrl||h.item.url)+")",opacity:p.value===t.unref(_).UPLOADED?1:.5})},null,4)):t.createCommentVNode("",!0),E.value?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",ye,[t.createElementVNode("div",null,[t.renderSlot(h.$slots,"icon",{item:h.item},()=>[(t.openBlock(),t.createElementBlock("svg",we,M[2]||(M[2]=[t.createElementVNode("path",{d:"M320 464c8.8 0 16-7.2 16-16l0-288-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16l256 0zM0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64z"},null,-1)])))])]),t.createElementVNode("div",$e,t.toDisplayString(b.value),1)])),t.createElementVNode("div",ve,[h.isReadonly?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",{key:0,class:"preview-img__remove-icon",onClick:M[0]||(M[0]=t.withModifiers(v=>k(),["prevent"]))},[t.renderSlot(h.$slots,"remove-icon",{},()=>[(t.openBlock(),t.createElementBlock("svg",Ee,M[3]||(M[3]=[t.createElementVNode("path",{d:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"},null,-1)])))])])),t.renderSlot(h.$slots,"extra",{item:h.item})]),p.value===t.unref(_).UPLOADING?(t.openBlock(),t.createElementBlock("div",Se,[t.createElementVNode("div",{class:"preview-img__progress-bar",style:t.normalizeStyle({width:y.value*100+"%"})},null,4)])):t.createCommentVNode("",!0),p.value===t.unref(_).ERROR?(t.openBlock(),t.createElementBlock("div",{key:3,class:"preview-img__error-message error-message",onClick:M[1]||(M[1]=t.withModifiers(()=>{},["stop","prevent"]))},[M[4]||(M[4]=t.createElementVNode("span",{class:"error-message__notice"},"Upload fail",-1)),t.createElementVNode("span",Me,t.toDisplayString(h.item.message),1)])):t.createCommentVNode("",!0)])],4))}}),De={class:"add-button__body"},ke={class:"add-button__icon"},_e={style:{width:"32px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Oe={class:"add-button__text"},Ce=t.defineComponent({__name:"ItemCardPlaceholder",props:{size:{default:"150px"},text:{default:""}},setup(l){return(s,a)=>(t.openBlock(),t.createElementBlock("div",{class:"vue-drag-uploader-item add-button",key:"empty",style:t.normalizeStyle({"--vmu-img-size":s.size})},[t.createElementVNode("div",De,[t.renderSlot(s.$slots,"default",{},()=>[t.createElementVNode("div",ke,[t.renderSlot(s.$slots,"icon",t.normalizeProps(t.guardReactiveProps({size:s.size})),()=>[(t.openBlock(),t.createElementBlock("svg",_e,a[0]||(a[0]=[t.createElementVNode("path",{d:"M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"},null,-1)])))])]),t.createElementVNode("div",Oe,t.toDisplayString(s.text),1)])])],4))}});L.ItemCard=be,L.ItemCardPlaceholder=Ce,L.MultiUploader=ge,L.UploadState=_,L.useMultiUploader=ie,L.wrapRef=N,L.wrapUploaderItem=ee,Object.defineProperty(L,Symbol.toStringTag,{value:"Module"})});
