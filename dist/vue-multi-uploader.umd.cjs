(function(C,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(C=typeof globalThis<"u"?globalThis:C||self,t(C.VueMultiUploader={},C.Vue))})(this,function(C,t){"use strict";var _=(l=>(l.PENDING="pending",l.UPLOADING="uploading",l.UPLOADED="uploaded",l.ERROR="error",l))(_||{});const P=class P{};P.alert=async s=>window.alert(s),P.confirm=async s=>new Promise(a=>{const c=confirm(s);a(c)}),P.deleteConfirm=async s=>P.confirm(s),P.confirmText=()=>"確認",P.cancelText=()=>"取消",P.deleteText=()=>"刪除";let se=P;function J(l="",s=!1){if(s){const c=(performance!=null&&performance.timeOrigin?Math.round(performance.timeOrigin):performance.timing.navigationStart)*1e5+performance.now()*100;return l+c.toString(12)+oe(4)}return l+oe(12)}function oe(l=12){const a=window.crypto;if(!a)return String(Math.floor(Math.random()*l**10));const c=new Uint8Array(l);for(let m=0;m<l;m+=65536)a.getRandomValues(c.subarray(m,m+Math.min(l-m,65536)));return Array.from(c).map(m=>m.toString(16).padStart(2,"0")).join("")}var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le={exports:{}};(function(l,s){(function(a,c){l.exports=c()})(ae,function(){var a=1e3,c=6e4,m=36e5,y="millisecond",D="second",b="minute",M="hour",k="day",L="week",h="month",$="quarter",w="year",R="date",V="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ne=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,re={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(d){var o=["th","st","nd","rd"],e=d%100;return"["+d+(o[(e-20)%10]||o[e]||o[0])+"]"}},H=function(d,o,e){var n=String(d);return!n||n.length>=o?d:""+Array(o+1-n.length).join(e)+d},K={s:H,z:function(d){var o=-d.utcOffset(),e=Math.abs(o),n=Math.floor(e/60),r=e%60;return(o<=0?"+":"-")+H(n,2,"0")+":"+H(r,2,"0")},m:function d(o,e){if(o.date()<e.date())return-d(e,o);var n=12*(e.year()-o.year())+(e.month()-o.month()),r=o.clone().add(n,h),i=e-r<0,u=o.clone().add(n+(i?-1:1),h);return+(-(n+(e-r)/(i?r-u:u-r))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:h,y:w,w:L,d:k,D:R,h:M,m:b,s:D,ms:y,Q:$}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return d===void 0}},x="en",T={};T[x]=re;var X="$isDayjsObject",G=function(d){return d instanceof Y||!(!d||!d[X])},j=function d(o,e,n){var r;if(!o)return x;if(typeof o=="string"){var i=o.toLowerCase();T[i]&&(r=i),e&&(T[i]=e,r=i);var u=o.split("-");if(!r&&u.length>1)return d(u[0])}else{var f=o.name;T[f]=o,r=f}return!n&&r&&(x=r),r||!n&&x},S=function(d,o){if(G(d))return d.clone();var e=typeof o=="object"?o:{};return e.date=d,e.args=arguments,new Y(e)},g=K;g.l=j,g.i=G,g.w=function(d,o){return S(d,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var Y=function(){function d(e){this.$L=j(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[X]=!0}var o=d.prototype;return o.parse=function(e){this.$d=function(n){var r=n.date,i=n.utc;if(r===null)return new Date(NaN);if(g.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var u=r.match(N);if(u){var f=u[2]-1||0,p=(u[7]||"0").substring(0,3);return i?new Date(Date.UTC(u[1],f,u[3]||1,u[4]||0,u[5]||0,u[6]||0,p)):new Date(u[1],f,u[3]||1,u[4]||0,u[5]||0,u[6]||0,p)}}return new Date(r)}(e),this.init()},o.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},o.$utils=function(){return g},o.isValid=function(){return this.$d.toString()!==V},o.isSame=function(e,n){var r=S(e);return this.startOf(n)<=r&&r<=this.endOf(n)},o.isAfter=function(e,n){return S(e)<this.startOf(n)},o.isBefore=function(e,n){return this.endOf(n)<S(e)},o.$g=function(e,n,r){return g.u(e)?this[n]:this.set(r,e)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(e,n){var r=this,i=!!g.u(n)||n,u=g.p(e),f=function(F,A){var z=g.w(r.$u?Date.UTC(r.$y,A,F):new Date(r.$y,A,F),r);return i?z:z.endOf(k)},p=function(F,A){return g.w(r.toDate()[F].apply(r.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(A)),r)},v=this.$W,E=this.$M,O=this.$D,I="set"+(this.$u?"UTC":"");switch(u){case w:return i?f(1,0):f(31,11);case h:return i?f(1,E):f(0,E+1);case L:var B=this.$locale().weekStart||0,W=(v<B?v+7:v)-B;return f(i?O-W:O+(6-W),E);case k:case R:return p(I+"Hours",0);case M:return p(I+"Minutes",1);case b:return p(I+"Seconds",2);case D:return p(I+"Milliseconds",3);default:return this.clone()}},o.endOf=function(e){return this.startOf(e,!1)},o.$set=function(e,n){var r,i=g.p(e),u="set"+(this.$u?"UTC":""),f=(r={},r[k]=u+"Date",r[R]=u+"Date",r[h]=u+"Month",r[w]=u+"FullYear",r[M]=u+"Hours",r[b]=u+"Minutes",r[D]=u+"Seconds",r[y]=u+"Milliseconds",r)[i],p=i===k?this.$D+(n-this.$W):n;if(i===h||i===w){var v=this.clone().set(R,1);v.$d[f](p),v.init(),this.$d=v.set(R,Math.min(this.$D,v.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},o.set=function(e,n){return this.clone().$set(e,n)},o.get=function(e){return this[g.p(e)]()},o.add=function(e,n){var r,i=this;e=Number(e);var u=g.p(n),f=function(E){var O=S(i);return g.w(O.date(O.date()+Math.round(E*e)),i)};if(u===h)return this.set(h,this.$M+e);if(u===w)return this.set(w,this.$y+e);if(u===k)return f(1);if(u===L)return f(7);var p=(r={},r[b]=c,r[M]=m,r[D]=a,r)[u]||1,v=this.$d.getTime()+e*p;return g.w(v,this)},o.subtract=function(e,n){return this.add(-1*e,n)},o.format=function(e){var n=this,r=this.$locale();if(!this.isValid())return r.invalidDate||V;var i=e||"YYYY-MM-DDTHH:mm:ssZ",u=g.z(this),f=this.$H,p=this.$m,v=this.$M,E=r.weekdays,O=r.months,I=r.meridiem,B=function(A,z,q,ee){return A&&(A[z]||A(n,i))||q[z].slice(0,ee)},W=function(A){return g.s(f%12||12,A,"0")},F=I||function(A,z,q){var ee=A<12?"AM":"PM";return q?ee.toLowerCase():ee};return i.replace(ne,function(A,z){return z||function(q){switch(q){case"YY":return String(n.$y).slice(-2);case"YYYY":return g.s(n.$y,4,"0");case"M":return v+1;case"MM":return g.s(v+1,2,"0");case"MMM":return B(r.monthsShort,v,O,3);case"MMMM":return B(O,v);case"D":return n.$D;case"DD":return g.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return B(r.weekdaysMin,n.$W,E,2);case"ddd":return B(r.weekdaysShort,n.$W,E,3);case"dddd":return E[n.$W];case"H":return String(f);case"HH":return g.s(f,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return F(f,p,!0);case"A":return F(f,p,!1);case"m":return String(p);case"mm":return g.s(p,2,"0");case"s":return String(n.$s);case"ss":return g.s(n.$s,2,"0");case"SSS":return g.s(n.$ms,3,"0");case"Z":return u}return null}(A)||u.replace(":","")})},o.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},o.diff=function(e,n,r){var i,u=this,f=g.p(n),p=S(e),v=(p.utcOffset()-this.utcOffset())*c,E=this-p,O=function(){return g.m(u,p)};switch(f){case w:i=O()/12;break;case h:i=O();break;case $:i=O()/3;break;case L:i=(E-v)/6048e5;break;case k:i=(E-v)/864e5;break;case M:i=E/m;break;case b:i=E/c;break;case D:i=E/a;break;default:i=E}return r?i:g.a(i)},o.daysInMonth=function(){return this.endOf(h).$D},o.$locale=function(){return T[this.$L]},o.locale=function(e,n){if(!e)return this.$L;var r=this.clone(),i=j(e,n,!0);return i&&(r.$L=i),r},o.clone=function(){return g.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},d}(),Q=Y.prototype;return S.prototype=Q,[["$ms",y],["$s",D],["$m",b],["$H",M],["$W",k],["$M",h],["$y",w],["$D",R]].forEach(function(d){Q[d[1]]=function(o){return this.$g(o,d[0],d[1])}}),S.extend=function(d,o){return d.$i||(d(o,Y,S),d.$i=!0),S},S.locale=j,S.isDayjs=G,S.unix=function(d){return S(1e3*d)},S.en=T[x],S.Ls=T,S.p={},S})})(le);class ue{constructor(s=1){this.maxRunning=s,this.items=[],this.currentRunning=0,this.running=!1,this.observers=[]}push(s){const a=new Promise((c,m)=>{this.items.push(()=>Promise.resolve(s()).then(c))});return this.run(),a}run(){this.running||(this.running=!0),this.pop()}async pop(){const s=this.items.shift();if(!s)return this.running=!1,Promise.resolve();if(this.currentRunning>=this.maxRunning)return this.items.unshift(s),Promise.resolve();this.currentRunning++,this.notice();try{return await s()}catch(a){throw a}finally{this.endPop()}}endPop(){this.currentRunning--,this.notice(),this.pop()}clear(){return this.items=[],this.notice(),this}isEmpty(){return this.items.length===0}get length(){return this.items.length}peek(){return this.items}observe(s,a={}){return this.observers.push({handler:s,once:a.once||!1}),()=>{this.off(s)}}once(s,a={}){return a.once=!0,this.observe(s,a)}onEnd(s,a={}){return this.observe((c,m,y)=>{m===0&&y===0&&s(c,m,y)},a)}notice(){return this.observers.forEach(s=>{s.handler(this,this.length,this.currentRunning)}),this.observers=this.observers.filter(s=>!s.once),this}off(s){return s==null?(this.observers=[],this):(this.observers=this.observers.filter(a=>a.handler!==s),this)}}function ce(l=1){return new ue(l)}function de(){return ce()}/*!
 * dush <https://github.com/tunnckoCore/dush>
 *
 * Copyright (c) Charlike Mike Reagent <@tunnckoCore> (https://i.am.charlike.online)
 * Released under the MIT license.
 */function fe(){var l=Object.create(null),s={_allEvents:l,use:function(c,m){var y=c(s,m);return y||s},on:function(c,m,y){var D=s._allEvents[c]||(s._allEvents[c]=[]);function b(){s.off(c,b),m.apply(m,arguments)}b.fn=m;var M=y?b:m;return D.push(M),s},once:function(c,m){return s.on(c,m,!0),s},off:function(c,m){return m&&s._allEvents[c]?s._allEvents[c]=s._allEvents[c].filter(function(y){return y!==m&&y!==m.fn}):c?s._allEvents[c]=[]:s._allEvents=Object.create(null),s},emit:function(c){if(c!=="*"){var m=[].slice.call(arguments);(s._allEvents[c]||[]).map(function(y){y.apply(y,m.slice(1))}),(s._allEvents["*"]||[]).map(function(y){y.apply(y,m)})}return s}};return s}const Z={change:"onChange","delete-item":"onDeleteItem",uploading:"onUploading",uploaded:"onUploaded","create-item":"onCreateItem","item-upload-start":"onItemUploadStart","item-upload-success":"onItemUploadSuccess","item-upload-fail":"onItemUploadFail","item-upload-end":"onItemUploadEnd","item-upload-progress":"onItemUploadProgress","invalid-file-type":"onInvalidFileType"};function pe(l){const s=fe();for(const a in Z){const c=Z[a];c&&l[c]&&s.on(a,l[c])}return s}function ie(l,s,a={}){const c=U(a.id??"vue-multi-uploader-"+J()),m=U(a.accept??""),y=U(a.maxFiles),D=U(a.maxConcurrent??2),b=U(a.disabled??!1),M=U(a.readonly??!1),k=U(s),L=t.computed(()=>U(a.dropzone).value),h=U(a.onDragClass??"h-ondrag"),$=U(a.autoStart??!1);let w=U(l);w.value=w.value.map(e=>te(e,{uploadState:_.UPLOADED}));const R=de(),V=pe(a);t.watch(D,e=>{R.maxRunning=e},{immediate:!0});function N(e,...n){return V.emit(e,...n)}function ne(e,n){return V.on(e,n),()=>{V.off(e,n)}}function re(){const e=document.createElement("input");e.id="multi-uploader-selector",e.type="file",e.accept=m.value,e.multiple=!0,e.style.display="none",e.addEventListener("change",()=>{const n=e.files;K(n),e.remove()}),e.addEventListener("change",()=>{e.remove()}),e.addEventListener("blur",()=>{e.remove()}),document.body.appendChild(e),e.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}t.watch(L,()=>{const e=me(L.value);e&&e instanceof HTMLElement&&H(e)},{immediate:!0});function H(e){e.__dragging_events||(e.addEventListener("dragover",n=>{n.stopPropagation(),n.preventDefault(),e.classList.add(h.value)}),e.addEventListener("dragleave",n=>{n.stopPropagation(),n.preventDefault(),e.classList.remove(h.value)}),e.addEventListener("drop",async n=>{var p;n.stopPropagation(),n.preventDefault(),e.classList.remove(h.value);const r=(p=n.dataTransfer)==null?void 0:p.items,i=[],u=async v=>{const E=[];v.isDirectory?v.createReader().readEntries(I=>{I.forEach(B=>{E.push(u(B))})}):E.push(new Promise(O=>{v.file(I=>{i.push(I),O()})})),await Promise.all(E)},f=[];Array.prototype.forEach.call(r??[],v=>{const E=v.webkitGetAsEntry();E&&f.push(u(E))}),f.length&&Promise.all(f).then(()=>{K(i)})}),e.__dragging_events=!0)}function K(e){Array.prototype.forEach.call(e,x),Array.prototype.forEach.call(e,n=>{if(!Y.value)return;const i=t.reactive(te({key:J(),url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",file:n,uploadState:_.PENDING,progress:0}));i.title=i.title||i.file.name,V.emit("create-item",i);const u=w.value.push(i),f=w.value[u-1];if($.value&&j(f),S(i)){const p=new FileReader;p.onload=v=>{var E;i.thumbUrl=String((E=v.target)==null?void 0:E.result)},p.readAsDataURL(n)}})}function x(e){const n=d.value,r=e.name.split(".").pop();if(n.length){let i=!1;if(n.forEach(u=>{i||(u.indexOf("/")!==-1?T(u,e.type)&&(i=!0):u.toLowerCase()===(r==null?void 0:r.toLowerCase())&&(i=!0))}),!i)throw N("invalid-file-type",e,n),new Error("Not accepted file ext")}}function T(e,n){const r=e.split("/"),i=n.split("/");return r[1]==="*"?r[0]===i[0]:e===n}function X(e){N("delete-item",e),w.value=w.value.filter(n=>n.key!==e.key)}async function G(){const e=[];return w.value.forEach(n=>{n.uploadState===_.PENDING&&e.push(j(n))}),Promise.allSettled(e)}async function j(e){e.uploadState=_.UPLOADING;const n=new FormData;return n.append("file",e.file),new Promise((i,u)=>{const f=new XMLHttpRequest;N("item-upload-start",e,f),f.open("POST",k.value),f.upload.onprogress=p=>{p.lengthComputable&&(e.progress=p.loaded/p.total,N("item-upload-progress",e,p))},f.onload=()=>{if(f.status>=200&&f.status<300)try{e.uploadState=_.UPLOADED,N("item-upload-success",e,f),i(e)}catch(p){console.error(p),e.uploadState=_.ERROR,e.message=p.message,e.messageType="error",u(p)}else{const p=`Upload failed with status: ${f.status}`;console.error(p),e.uploadState=_.ERROR,e.message=p,e.messageType="error",u(new Error(p))}},f.onerror=()=>{const p="An error occurred during the upload.";console.error(p),e.uploadState=_.ERROR,e.message=p,e.messageType="error",u(new Error(p))},f.onloadend=()=>{N("item-upload-end",e,f)},f.send(n)}).catch(i=>(N("item-upload-fail",e,i),Promise.reject(i)))}function S(e){return g(e.file?e.file.name:e.url)}function g(e){var i;const n=((i=e.split(".").pop())==null?void 0:i.split("?").shift())||"";return["png","jpeg","jpg","gif","bmp","webp"].indexOf(n.toLowerCase())!==-1}const Y=t.computed(()=>(y.value==null||w.value.length<Number(y.value))&&!o.value),Q=t.computed(()=>w.value.filter(n=>n.uploadState===_.UPLOADING).length>0),d=t.computed(()=>(Array.isArray(m.value)?m.value:m.value.split(",")).map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.indexOf("/")===-1&&e[0]==="."?e.substr(1):e)),o=t.computed(()=>b.value||M.value);return t.watch(w,e=>{e.map(n=>{n.key=n.key||J()}),N("change",w)},{deep:!0}),t.watch(Q,e=>{N(e?"uploading":"uploaded")}),{id:c,accept:m,maxFiles:y,maxConcurrent:D,disabled:b,readonly:M,uploadUrl:k,items:w,eventBus:V,canUpload:Y,isUploading:Q,acceptedTypes:d,isReadonly:o,emits:N,on:ne,openFileSelector:re,deleteItem:X,uploadStart:G,isImageItem:S,isImage:g}}function me(l){return l?"$el"in l?l.$el:l:null}function te(l,s){return l.key??(l.key=J()),l.uploadState??(l.uploadState=_.PENDING),l.progress??(l.progress=0),s&&Object.assign(l,s),l}function U(l){return typeof l=="function"&&(l=t.ref(l())),t.isRef(l)?l:t.ref(l)}const he={class:"vue-drag-uploader__wrapper"},ge=t.defineComponent({__name:"MultiUploader",props:t.mergeModels({id:{},uploadUrl:{},placeholder:{},instance:{},options:{default:()=>({})}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:t.mergeModels(["update:modelValue","change","delete-item","uploading","uploaded","create-item","item-upload-start","item-upload-success","item-upload-fail","item-upload-end","item-upload-progress","invalid-file-type"],["update:modelValue"]),setup(l,{expose:s,emit:a}){const c=l,m=a,y=t.useModel(l,"modelValue"),D=t.ref(y.value);t.watch(y,()=>{D.value=y.value},{deep:!0});const b=t.useTemplateRef("el");c.options.dropzone=c.options.dropzone??b;const M=c.instance??ie(D,c.uploadUrl??"",c.options),{isReadonly:k,items:L}=M;t.watch(L,()=>{y.value=L.value},{deep:!0});const h=[];for(const $ in Z){const w=M.on($,(...R)=>{m($,...R)});h.push(w)}return t.onUnmounted(()=>{h.forEach($=>$())}),s({instance:M}),($,w)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"el",ref:b,class:t.normalizeClass(["vue-drag-uploader",{"vue-drag-uploader--readonly":t.unref(k)}])},[t.createElementVNode("div",he,[t.renderSlot($.$slots,"items",{items:t.unref(L),options:$.options,instance:t.reactive(t.unref(M)),onDelete:w[0]||(w[0]=()=>console.log($.$event))})])],2))}}),ye={key:1,class:"preview-img__body d-flex flex-column justify-content-center align-items-center gap-2"},we={style:{width:"calc(var(--vmu-img-size) / 3)",height:"calc(var(--vmu-img-size) / 3)"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},$e={style:{"word-break":"break-word"}},ve={class:"preview-img__overlay"},Ee={style:{width:"1rem",height:"1rem",fill:"white"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Se={key:2,class:"preview-img__progress"},Me={class:"error-message__message"},be=t.defineComponent({__name:"ItemCard",props:{item:{},i:{},size:{default:"150px"},isReadonly:{type:Boolean}},emits:["delete","item-click"],setup(l,{emit:s}){const a=l,c=s,m=t.computed(()=>a.item.uploadState),y=t.computed(()=>a.item.progress);function D(){a.isReadonly||c("delete",a.item)}const b=t.computed(()=>a.item.file?a.item.file.name:a.item.title?a.item.title:a.item.url.split("/").pop()),M=t.computed(()=>k(a.item.file?a.item.file.name:a.item.url));function k(h){var R;const $=((R=h.split(".").pop())==null?void 0:R.split("?").shift())||"";return["png","jpeg","jpg","gif","bmp","webp"].indexOf($.toLowerCase())!==-1}function L(h){c("item-click",a.item,a.i,h)}return(h,$)=>(t.openBlock(),t.createElementBlock("div",{class:"vue-drag-uploader-item preview-img",style:t.normalizeStyle({"--vmu-img-size":h.size}),onClick:L},[t.renderSlot(h.$slots,"it",{item:h.item},()=>[M.value?(t.openBlock(),t.createElementBlock("div",{key:0,class:"preview-img__body",style:t.normalizeStyle({"background-image":"url("+(h.item.thumbUrl||h.item.url)+")",opacity:m.value===t.unref(_).UPLOADED?1:.5})},null,4)):t.createCommentVNode("",!0),M.value?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",ye,[t.createElementVNode("div",null,[t.renderSlot(h.$slots,"icon",{item:h.item},()=>[(t.openBlock(),t.createElementBlock("svg",we,$[2]||($[2]=[t.createElementVNode("path",{d:"M320 464c8.8 0 16-7.2 16-16l0-288-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16l256 0zM0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64z"},null,-1)])))])]),t.createElementVNode("div",$e,t.toDisplayString(b.value),1)])),t.createElementVNode("div",ve,[h.isReadonly?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",{key:0,class:"preview-img__remove-icon",onClick:$[0]||($[0]=t.withModifiers(w=>D(),["prevent"]))},[t.renderSlot(h.$slots,"remove-icon",{},()=>[(t.openBlock(),t.createElementBlock("svg",Ee,$[3]||($[3]=[t.createElementVNode("path",{d:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"},null,-1)])))])])),t.renderSlot(h.$slots,"extra",{item:h.item})]),m.value===t.unref(_).UPLOADING?(t.openBlock(),t.createElementBlock("div",Se,[t.createElementVNode("div",{class:"preview-img__progress-bar",style:t.normalizeStyle({width:y.value*100+"%"})},null,4)])):t.createCommentVNode("",!0),m.value===t.unref(_).ERROR?(t.openBlock(),t.createElementBlock("div",{key:3,class:"preview-img__error-message error-message",onClick:$[1]||($[1]=t.withModifiers(()=>{},["stop","prevent"]))},[$[4]||($[4]=t.createElementVNode("span",{class:"error-message__notice"},"Upload fail",-1)),t.createElementVNode("span",Me,t.toDisplayString(h.item.message),1)])):t.createCommentVNode("",!0)])],4))}}),De={class:"add-button__body"},_e={class:"add-button__icon"},ke={style:{width:"32px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Oe={class:"add-button__text"},Ce=t.defineComponent({__name:"ItemCardPlaceholder",props:{size:{default:"150px"},text:{default:""}},setup(l){return(s,a)=>(t.openBlock(),t.createElementBlock("div",{class:"vue-drag-uploader-item add-button",key:"empty",style:t.normalizeStyle({"--vmu-img-size":s.size})},[t.createElementVNode("div",De,[t.renderSlot(s.$slots,"default",{},()=>[t.createElementVNode("div",_e,[t.renderSlot(s.$slots,"icon",t.normalizeProps(t.guardReactiveProps({size:s.size})),()=>[(t.openBlock(),t.createElementBlock("svg",ke,a[0]||(a[0]=[t.createElementVNode("path",{d:"M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"},null,-1)])))])]),t.createElementVNode("div",Oe,t.toDisplayString(s.text),1)])])],4))}});C.ItemCard=be,C.ItemCardPlaceholder=Ce,C.MultiUploader=ge,C.UploadState=_,C.uploaderEvents=Z,C.useMultiUploader=ie,C.wrapRef=U,C.wrapUploaderItem=te,Object.defineProperty(C,Symbol.toStringTag,{value:"Module"})});
